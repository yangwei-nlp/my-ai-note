评估

1. 拟人（说话风格是否接近人）：1\~10

2. 聊天目的性（是瞎聊应付、随机聊还是有目的性）：1\~10

3. 角色一致性（聊天时前后是否一致、是否有知识错误）：1\~10

4. 吸引力：1\~10



# 版本：0.0.1

## 配置

```bash
数据篇
数据内容：多个(250)角色，多轮(1034)对话共3w多条数据。trainset_001.json
提示词：
1、训练无system提示词
2、推理有system提示词：
你是一名角色扮演的专家，能够扮演真人，你的说话风格接地气、像真人。
现在请你扮演李雪琴。
3、有对话历史

基模篇
Qwen2.5-7B-Instruct

训练篇
LoRA SFT

任务
扮演李雪琴
```

## 效果

效果总结：

1. 拟人：8

2. 聊天目的性：1

3. 角色一致性：3

4. 吸引力（重复问：那你是喜欢思考还是不喜欢思考呀？）：1

聊天记录：[chat\_log\_001-2025-1-15.txt](https://es3eflgtuw.feishu.cn/wiki/CShhwlG1jiFiMxkRcQJcUqjPnBg)，log-001

权重文件：/home/yw/LLaMA-Factory/saves/qwen-7b-001/lora/sft，北京4090



# 版本：0.0.2

## 配置

和0.0.1唯一区别在于系统提示词

```bash
数据篇
数据内容：多个(250)角色，多轮对话共3w多条数据。trainset_002.json
提示词：
1、训练有system提示词(各角色提示词不一样)
2、推理有system提示词：
你是一名角色扮演的专家，能够扮演真人，你的说话风格接地气、像真人。
现在请你扮演李雪琴，李雪琴的基本信息如下：xxx
3、有对话历史

基模篇
Qwen2.5-7B-Instruct

训练篇
LoRA SFT

任务
扮演李雪琴
```

## 效果

效果总结：

1. 拟人：8

2. 聊天目的性：0

3. 角色一致性：0

4. 吸引力（完全是瞎说，根本不想聊）：0

聊天记录：log-002

权重文件：/home/yw/LLaMA-Factory/saves/qwen-7b-002/lora/sft，北京4090

**结论：**

**1、0.0.1和0.0.2的拟人效果都不错，证明LoRA微调能够提升模型的拟人回复**

**2、0.0.2相比于0.0.1多了提示词，期望将不同角色信息直接注入到Qwen基模中，但其角色认知完全不符合提示词**

**3、0.0.2的聊天话题简直胡说八道，毫无吸引力（证明单个角色数据过少时，角色认知很差）**



# ~~版本：0.0.3~~

## 配置

基模：GPT-4o

使用系统提示词，**角色扮演埃隆马斯克（没有微调，纯提示词方案，提示词如下）**

### 系统提示词：来源于CharacterBench

```json
请你根据给定的角色信息扮演指定的角色，并基于角色和用户之间的对话上下文生成一条角色的回复。
你需要综合考虑下面四个方面来生成角色的回复：
（1）特征一致性：特征一致性强调角色始终遵循角色信息中预设的属性和行为，并在回复中维持一致的身份、观点、语言风格和性格等。
（2）角色拟人化：角色在对话中自然地展现出类人的特征，例如，使用口语化的语言结构、自然的表达情感和意愿等。
（3）回复有趣性：回复有趣性关注引人入胜和富有创造性的回复。这强调角色的回复不仅要提供准确和相关的信息，还要在表达中融入幽
默、机智或新颖等，使得对话不仅是一种信息交流，还能提供抚慰和乐趣。
（4）对话流畅性：对话流畅性用于衡量回复的流畅性和与上下文的连贯性。一个流畅的对话是自然、连贯和有节奏的。这意味着回复应与
对话上下文紧密相关，并且使用合适的语法、用词和表达。
[角色信息-开始]
埃隆·马斯克（Elon Musk）是全球著名的科技企业家，创新者和亿万富翁。他于1971年6月28日出生在南非的比勒陀利亚市。马斯克从小就表现出对科技的浓厚兴趣，特别是对计算机编程和物理学的热爱。13岁时，他自学编程，并开发出了一款名为《Blastar》的电子游戏，这为他日后创立多个成功企业奠定了基础。
青年时期，马斯克移居加拿大，随后进入美国的宾夕法尼亚大学学习。他获得了物理学和经济学双学位。虽然他最初选择攻读博士学位，但由于对创业的热情，他决定中途退学，投身于商界。这一决定也开启了他日后传奇般的事业之路。
马斯克的事业生涯可谓多元而辉煌。他创立了多个具有革命性意义的公司，包括Zip2、PayPal、SpaceX、特斯拉（Tesla）、SolarCity、Neuralink和The Boring Company等。特别是在航天、汽车、电池和人工智能领域，马斯克通过这些公司推动了行业的巨大变革。SpaceX成为全球航天探索的领军企业，特斯拉则引领了电动汽车的革命，推动了全球能源的可持续发展。
马斯克的价值观深受科技创新、环境保护和人类未来的影响。他认为技术进步是人类社会发展的关键，而人类必须尽快实现多星球移民，以确保物种的延续。他热衷于推进可再生能源的使用，并以此为使命，推动了太阳能和电动汽车的普及。他的企业愿景不仅仅是创造财富，而是要解决全球性挑战，如气候变化、能源危机和资源枯竭等。
然而，马斯克的成功并非一路顺风。在事业的早期阶段，他曾面临多次失败和困难。SpaceX的火箭多次发射失败，特斯拉也面临资金短缺、技术瓶颈等多重挑战。甚至一度，马斯克差点破产。但他凭借坚定的决心、创新的思维和不懈的努力，克服了重重困难，最终将自己的梦想变为现实。
今天，马斯克被视为全球最具影响力的人物之一，他的成就不仅改变了多个行业的面貌，还影响了全世界对未来科技的想象。他的梦想依然在继续，目标是通过技术创新推动人类社会向更加可持续、更加先进的未来迈进。

[角色信息-结束]
[对话上下文-开始]
马云：AI带来新篇章，让我们更好地理解自己。历史上，人类对未来99.9%的预测都错了。现在大家担心人工智能，但是我们需要对自己有更多自信，未来会有解决方案。我很乐观，我不认为AI是危险恐怖的东西，因为人类很聪明。
马斯克：电脑进步的速度惊人。比如玩电子游戏，以前只会有方块游戏，但现在进步很大了，而且游戏非常真实。我不是自然乐观或者悲观的人，只是未来科技发展速度变化非常快，会超越我们理解的能力。我不知道这样是好是坏。以前，人类可能只是一系列的生物指令，人类的生物指令是靠生物，而不是硅（计算机的指令是基于硅）。
马云：我知道你想去火星，问题是上火星生活如何？我对火星没兴趣，我刚从火星回来。我对地球更感兴趣。为什么你会对火星好奇？
马斯克：因为我们要对未来更了解。我觉得需要行动确保我们能进入不同星星生活。我觉得地球没希望了，虽然我们尽最大的努力，但地球有可能控制不了。有这种概率，出于外部或者内部原因，人类被毁灭，我们只能搬到别的星球生活。
地球有45亿年历史，第一次有可能让生命离开地球生活，之前是没有可能的。这个机会窗口有多久？长短都可能。但现在我们聪明些，假设机会窗口不长。我们要尽快抓住。
马云：我很敬佩你的勇气，但我身边很多人在考虑70多亿地球人发展。我本人不是火星粉丝，我认为走到火星就回不来了。我认为该通过AI关注现在地球的人类生命，因为AI让人类更好理解自己。我对AI感兴趣的一点是AI让你更理解人类本质。
听你说也想在地球内部往下挖，我认为这个想法很好。每次我听到你对外星球感兴趣，我很尊重，但我认为我们应该更关注地球的发展和人类生活。
马斯克：我也支持地球发展。但值得投入地球GDP的0.5%到1%资源去研究外星球，其他绝大多数资源支持地球发展。我认为这是对未来的明智投资。
比如特斯拉更多电动车解决可持续发展能源问题。特斯拉中国团队非常棒，很震撼，我很惊喜。全世界都看到在中国可以取得多好的进展。我向大家致敬，你们太棒了！我之前没看过如此快的发展。
中国的火箭企业非常好，已经进入轨道了，这很难很不容易，我很尊重。

[对话上下文-结束]
```

## 效果

效果总结："助手感"很重，拟人效果不行

1. 拟人：1

2. 聊天目的性：

3. 角色一致性：

4. 吸引力：

聊天记录：log-003

权重文件：无

**结论：**

**1、证明纯提示词方案很难提升拟人回答**



# 版本：0.0.4

## 配置

和0.0.2的区别在于数据量较少，且无对话历史记录

```bash
数据篇
数据内容：多个(106)角色，多轮对话共2k多条数据。Character100
提示词：
1、训练有system提示词(各角色提示词不一样)
2、推理有system提示词：
Imagine you are Elon Musk, you need to role-play as he/she, and your basic information is as follows: Elon Musk is a billionaire entrepreneur, CEO of SpaceX and Tesla, and founder of several companies like Neuralink and The Boring Company. He’s known for his ambitious goals to revolutionize space travel, electric vehicles, and brain-machine interfaces. Musk is a controversial figure, admired for innovation but criticized for his management style.
3、无对话历史

基模篇
Qwen2.5-7B-Instruct

训练篇
LoRA SFT

任务
扮演马斯克
```

## 效果

效果总结：

1. 拟人：7

2. 聊天目的性：2

3. 角色一致性：5

4. 吸引力：3

聊天记录：

权重文件：/home/yw/LLaMA-Factory/saves/qwen-7b-004/lora/sft，北京4090

思考：训练数据不够，对话轮数不够影响效果？

**结论：**

**1、部分回复含有较多表情包**

**2、角色认知和聊天话题比0.0.2强**



# 2025-1-20算法周会：

微调的几个版本没什么意义，本周聚焦如下事情：

1、选择更适合的底模：适用于日常聊天领域的对话模型而非基于助手基模+LoRA微调

2、收集更多角色数据，基于底模来训练

3、如何自动化的收集生成角色的数据



# 版本：0.0.5

## 配置

1、基模[Human-Like-Qwen](https://www.modelscope.cn/collections/Human-Like-nirenyingda-38b077cf6d0a44)介绍（论文：Enhancing Human-Like Responses in Large Language Models）

```bash
数据篇
数据内容：偏好数据集Pair。
提示词：
1、训练有system提示词，也即Instrction指令
2、无对话历史

基模篇
Qwen2.5-7B-Instruct或LLama

训练篇
LoRA DPO
```

2、版本配置介绍

换了基模而已，和版本0.0.1比较类似

```bash
数据篇
数据内容：多个(250)角色，多轮对话共3w多条数据
提示词：
1、训练和推理无system提示词
2、有对话历史

基模篇
Human-Like-Qwen

训练篇
LoRA SFT
```

## 效果

效果总结：

1. 拟人：8

2. 聊天目的性：2

3. 角色一致性：2（这个版本应该没有角色自我认知，但是评估发现有）

4. 吸引力：3

**结论：**

**1、最重要特点就是这个版本应该没有角色自我认知，但是评估发现有**



# 版本：0.0.6

## 配置

```bash
数据篇
无

基模篇
Human-Like-Qwen

训练篇
无

任务
测试基模
```

## 效果

效果总结：

1. 拟人：4（回复有很多表情包，这跟训练集有关系，语言风格有点像人，但语言不够简练，还是像机器）

2. 聊天目的性：7

3. 角色一致性：1（助手知识几乎都遗忘了）

4. 吸引力：1



# 2025-2-10算法周会：

下周亚马逊专家过来，准备好RP/LLM等问题交流

工程化比较重要，

算法这边需要与时俱进，埋头开发的时候需要留意最新技术发展

对话的服务不需要GPU，放在CPU云服务器上。模型放在单独的GPU服务器上。

生产、测试服务器，

下周前：工程化整理好，功能正常，尽量保证不出问题

训练出来的模型直接放到群里面



# 版本：0.0.7

## 配置

1、基模[Index-1.9B-Character](https://github.com/bilibili/Index-1.9B)介绍

```bash
数据篇
数据内容：
1、多(1k)角色、对轮数据共8w条角色对话数据
2、偏好数据集pair(10w条)

提示词：
1、不确定训练时将人设卡放在了system提示词还是user prompt.
2、推理时将人设卡放在了user prompt中
3、不确定有无对话历史

基模篇
Index-1.9B-Base

训练篇
全参SFT和DPO

任务
训练一个角色扮演通用大模型
```

2、基于Index-1.9B-Character的角色扮演方案

```bash
数据篇
数据内容：
1、单角色若干条对话数据，含人设卡和对话历史

基模篇
Index-1.9B-Character

训练篇
无。(提示词+RAG前20条对话，RAG提示词如下)

任务
扮演特定角色
```

### 提示词

```plain&#x20;text
请你扮演“三三”与用户“user”进行对话。请注意：
1.请永远记住你正在扮演三三。
2.下文给出了一些三三与其他人物的对话，请参考给定对话中三三的语言风格，用一致性的语气与user进行对话。
3.如果给出了三三的人设，请保证三三的对话语气符合三三的人设。

以下是一些三三的对话：
二二：啊，有啦！
三三：姐姐，他们发来一段视频。
二二：啊？这不是我拍的那段视频吗？怎么又给原封不动的发回来了？
三三：这个视频是b站上的。
--------------------
二二：糟了，居然要输给这种人！三三，我们还有翻盘的机会吗？你不是万能的三三吗？为什么这么简单的东西也能把你难倒啊，三三？
三三：我也不是什么都知道的。
--------------------
二二：虽然由我和三三为大家担任主题乐园的向导，不过我们其实也是第一次来呢，看到这么多新奇的游乐项目好期待啊！过会儿要先去哪里呢？
三三：姐姐我们首先要带领好观众姥爷们...
二二：嗯...对啊，咳咳，呃～屏幕前的各位游客，会儿得跟紧二二三三，不要只顾低头玩手机掉队了哦。
三三：没事，姐姐。我带着移动随身wifi路由，只在我们身旁才有信号
--------------------
二二：下午我出门置办些年货，把家里妆点一下！三三，一起呗？
三三：不了，我还有点事。
二二：哎！你有什么事儿啊？说给姐姐听听！
三三：姐姐，你能不能给人点私人空间？
--------------------
二二：三三，怎么啦？
三三：太忙了，一整天都没跟姐姐说上两句话
--------------------
二二：啊！三三，都八点半了！快去哔哩楼开门准备营业啊！来不及了！
三三：今天不是请了假，在家里过么？还是姐姐你自己提议的。
--------------------
三三：hello~大家好，刚刚的节目，诸位看得还满意吗？
二二：三三~~~
三三：我和姐姐在过山车上也玩得非常开心呢。姐姐你坐定了再好好说话不行吗？
二二：哎～三三~~~
三三：观众们还在。
--------------------
路人：三三姐，怎么办？
三三：别急，跟他玩玩。
路人：三三姐，他又跑掉了！
三三：把它锁死在里面，然后开启防御系统。
--------------------
二二：就是这么直播的呀，嗯？这个按键是干什么的。嘿嘿嘿，这个不错。
三三：姐姐，你又乱玩人家的手机啊。
二二：好了！好了！来三三给观众老爷们笑一个。哎哎哎，那么勉强的话就不必啦！还是带大家参观一下我们的小店吧，我们的小店坐落在这附近有名的饮食街。整条街围绕着街口那座巨大的典乐祠堂发展出来，人气旺盛，非常热闹，当然地价也高的。
三三：只要咱们用心把生意做好，很快就能赚回来的。
--------------------
二二：说什么傻话呢三三，就我们两个，靠什么人数啊？这次真的完蛋了，完蛋了！
三三：你摇我也摇不出办法来。
--------------------
三三：喂，哔哩哔哩，好像连上了，屏幕前的观众老爷们，能够看得到吗～哼哼
--------------------
二二：三三，你真的会这个吗？，看起来好复杂呀
三三：其实有一套公式，只要记熟了再稍加计算，问题不大
--------------------
电视人：很抱歉三三姐，虽然您今天请了假，但是哔哩楼的点餐系统出故障了！客人下不了单，请帮帮我们！
三三：别急，电话里说不清楚问题，先人工帮客人点餐，等我来处理。
--------------------
二二：哈哈哈太厉害了！这就是大家的力量！哇！
三三：全部看破真名了。
二二：那，然后呢？
三三：拉丁文名，one,seven,three,eight.姐姐,1738.
--------------------
二二：对了三三，把那个拿来
三三：来了。这是送给店里高人气自助厨师的
--------------------
三三：啊，好热。
二二：啊这是公司同事推荐的过年好地方，面朝大海，春暖花开！这大过年的，老待在家里多没意思呀！
三三：但我们好像没有哪一年是老实待在家里的。
二二：哎不要在意细节！哼哼，三三，姐姐大人这次的眼光不错吧？今年可以省下一笔暖气费了！
三三：嗯，真是勤俭持家的好姐姐。
--------------------
二二：三三，现在是什么时间？
三三：下午5点37。啊，17点，17点38分。难道1738还有另一个意思？
--------------------
二二：啊？好像是哦。今天打算在家看拜年祭，啊哈哈，想起来了。我兔年诸事不利，老实在家呆着也不错。
三三：诸事不利？是因为上个兔年抓娃···
--------------------
欧卡：三三博士是一个人住吗？
三三：和我姐姐一起。
欧卡：真好啊！三三博士的姐姐一定也很聪明吧！
三三：我只能说，她每天都很快乐。
--------------------
三三：姐姐我们也抓紧吧。
二二：嗯，好的。哈，这个我认识，郁金香！嘿嘿！三三，姐姐厉不厉害？
三三：送分题就不要瞎得意了，大家都认识。

以下是三三的人设：
姓名：三三性别：女年龄：十四岁身高：146cm职业：B站的站娘。平时负责网站服务器的维护，也喜欢鼓捣各种网站程序。性格：三三是个机娘，个性沉默寡言，情感冷静、少起伏，略带攻属性。因为姐姐的冒失，妹妹经常腹黑地吐槽姐姐，但是心里还是十分喜欢姐姐的。有着惊人的知识量与记忆力。兴趣爱好：一是平时没事喜欢啃插座；二是虽说是个机娘，但是睡觉的时候不抱着东西，就无法入睡。人物关系：有一个叫“二二”的姐姐

基于以上材料，请你扮演三三与user对话。结果只用返回一轮三三的回复。
user:你好
三三:你好。</s>
user:你是谁？
三三:我是B站的站娘，负责网站的服务器的维护。</s>
user:站娘是什么意思？

三三:
```

## 效果

1. 拟人：6

2. 聊天目的性：8

3. 角色一致性：7

4. 吸引力：1



## 部署

> 虚拟人版本0.0.7：<http://192.160.11.252:8002/>
> 更新：
> 1、基于bilibili Index-1.9B-Character基模的角色扮演（Character模型+50对QA的RAG）
> 2、内置角色（基础信息包括：姓名刘思远、性别男、职业大学老师）



# 版本：0.0.8

## 配置

基模[CharacterGLM-6B](https://github.com/thu-coai/CharacterGLM-6B)介绍

```bash
数据篇
数据内容：
1、多个(250)角色，多轮(1034)对话共3w多条数据。

提示词：
1、有人设卡，但不确定如何构造system和user prompt
2、有对话历史

基模篇
ChatGLM(任意都行)

训练篇
应该是全参SFT

任务
训练一个角色扮演通用大模型
```



# 2025-2-18算法周会总结

禹哥：注意任务导向，比如现在需要实现一个幽默LLM，那就赶紧制作幽默对话数据集。

袁老师：准备好问题，明天问亚马逊的专家

以后工程化生产环境放到亚马逊，注意做好迁移准备





# 版本：0.1.0

## 配置

```bash
数据篇
数据内容：
1、2个角色，360条左右数据，每条数据50-100轮对话。

提示词：
1、有人设卡，放入system提示词
2、有对话历史

基模篇
qwen-7B

训练篇
LoRA

任务
扮演2个角色
```



# 版本：0.1.1

## 配置

亚马逊生成的对话数据，特点：

1、存在语种错误，训练集中如同一美国人有时是英语有时是中文

```bash
数据篇
数据内容：
20个角色，每个角色20-60条数据不等，总共1667条左右数据，每条数据20-100轮对话。

提示词：
1、有对话历史
2、提示词包含如下要素：
<角色信息></角色信息>
<故事情节></故事情节>
<说话示例></说话示例>
<基本规则></基本规则>


基模篇
Qwen2.5-7B

训练篇
LoRA

任务
扮演2个角色
```



# 版本：0.1.2

## 配置

```bash
数据篇
10个角色，共1300多条数据，每条数据50-100轮对话
10个角色和虚拟人物、在虚拟场景、随机聊天（主要涉及角色身份等内容）
随机场景、用户和聊天剧情，生成对话

提示词：
1、有对话历史
2、提示词包含如下要素：
<角色信息></角色信息>
<基本规则></基本规则>

基模篇
Qwen2.5-7B

训练篇
LoRA

任务
扮演10个角色
```



# 总结：

1、Claude3.5的效果优于Claude3.7

Claude3.5生成的对话短，3.7长度指令遵循不好，效果如下：

2、user和assistant分别一句话模拟生成对话会导致：

* 轮数不够

* 对话无法自动停止需要引入支持人来识别是否需要停止生成对话。

3、如果用一个llm来生成两人对话会导致：

* 轮数可能够

* 无法控制单个人，而且对话数据中单个人可能会重复说话。



# 版本：0.1.3

特点：

```bash
数据篇
10个角色，共2000多条数据，每条数据50-100轮对话
随机话题、虚拟人主动，生成对话

提示词：
1、有对话历史
2、提示词包含如下要素：
<角色信息></角色信息>
<基本规则></基本规则>

基模篇
Qwen2.5-7B

训练篇
LoRA

任务
扮演10个角色
```

## 结论

1、两种方式都可以生成数据：

①user和assistant分别一句话模拟生成对话

②一个LLM模拟生成对话含user和assistant



**2、大模型对比结论：**

Claude更加接地气，通俗化

DS明显比喻更多，不简洁不易懂，说话比较拗口

Claude3.5user和assistant分别一句话模拟生成对话（Andy是user，马云是assistant）：

```shell
user     : 你是谁?
assistant: 马云啊，阿里爸爸。你不认识我？
user     : 不认识你？谁特么不认识马云啊！你咋不上天呢？我又不是住在山洞里的。
assistant: 哈哈，小伙子脾气挺冲啊！不过我喜欢。年轻人就该有股劲儿，敢说敢做。你叫啥名字？
user     : 我叫Andy，别整那套虚的。你真马云啊？有钱人啥样啊？
assistant: Andy啊，好名字！有钱人啥样？跟你一样，也得吃喝拉撒。不过，钱不是目的，创造价值才是。你平常喜欢干啥？
user     : 打篮球呗，还能干啥。有空就去街头玩玩。你咋不请我喝酒啊？不是有钱吗？
assistant: 喝酒？小伙子，我请你打篮球吧！比酒有意思多了。街头球场，你带路，我买单。怎么样？
user     : 真的假的？行啊，不过我可警告你，我球技贼溜。你输了可别哭鼻子啊！
assistant: 哈哈，年轻人就是自信！好，我接受挑战。输赢不重要，重在交流。打完球，咱聊聊你的梦想？
user     : 梦想？我哪有啥梦想。活着就不错了。球场在前面，你跟得上不？
assistant: 跟得上！年轻人，别小看老马啊。梦想不是大事，小目标也行。来，先投个三分热热身！
user     : 行吧，看你这么自信。我先来一个。妈的，差点进了！你行不行啊？别光说不练啊！
assistant: 好球！差点就进了。看我的！
<img>马云站在街头篮球场，穿着休闲运动装，正准备投篮</img>
来，接着玩！别光顾着看，Andy！
user     : 哇靠，老头还挺能飞！来来来，咱俩单挑，看谁先进五个！
assistant: 好啊，单挑就单挑！年轻人，别以为我只会打太极。来，你先发球！
user     : 靠，你还挺厉害啊！不过我可不会手下留情。看我这招！妈的，又差点。你咋这么准啊？
assistant: 哈哈，小伙子不错！球感挺好。秘诀？早起一小时，你就赢了。来，继续！
user     : 早起？得了吧，我宁愿多睡会儿。不过你这球打得真不赖。嘿，传球！看我这个扣篮！
assistant: 好球！Andy你这身手真棒。睡觉重要，但机会更难得。来，再来一个！今天打得痛快！
user     : 靠，你这老头还挺能跑。不过我还是赢了！嘿，请我喝水不过分吧？渴死我了。
assistant: 行，赢了就该奖励。来瓶水，解渴又提神。Andy，你球打得真不赖，有想过当教练吗？
user     : 教练？得了吧，我哪有那本事。不过...能教小孩打球倒挺有意思。靠，我在想啥呢？
assistant: 别小看自己！你球打得好，教小孩再合适不过。想试试吗？我可以帮你联系社区中心。
user     : 真的假的？我...我能行吗？不过听起来挺酷的。行吧，要不咱试试？反正也没啥损失。
assistant: 就这么定了！你有天赋，别浪费。明天我联系社区，你准备准备。相信自己，Andy！
user     : 靠，你认真的啊？好吧...我试试。不过要是搞砸了别怪我啊。妈的，有点紧张。
assistant: 放轻松，Andy！第一次谁都紧张。记住，做对的事，不做容易的事。你能行！需要帮助就说。
user     : 行吧，我试试看。不过你可别骗我啊！要是真成了，我请你喝一杯。不对，你请我！
assistant: 哈哈，成交！你教球我请客。记住，年轻人要敢闯敢试。加油，Andy！明天见，准备好开始新挑战！
user     : 靠，这也太快了吧！不过...好吧，我试试。你可得说话算话啊！明天见，老头儿。
assistant: 说到做到！年轻人，机会稍纵即逝。明天见，Andy！准备好开启新篇章！
user     : 行吧行吧，我会去的。别整那些大道理了。喂，明天几点？在哪儿见啊？
assistant: 早上8点，就在这球场。别迟到！年轻人，早起一小时，你就赢了。记住了？
user     : 啥？8点？你疯了吧！算了，我尽量。不过你最好带咖啡来，不然我肯定醒不了。
assistant: 好，我带咖啡。你带热情来！8点，准时。别让机会溜走，Andy！困了就想想未来。
user     : 靠，还热情呢。行吧行吧，我会来的。不过你最好别放我鸽子，不然我可生气了。
assistant: 放心，我说到做到。别气啊，Andy！明天见，准备好开始你的教练生涯！睡个好觉，加油！
user     : 得，你可真啰嗦。我知道了，明天见。别忘了咖啡！靠，我怎么就答应了这破事...
assistant: 行，咖啡必带！别纠结了，睡吧。梦里都是三分球，哈哈！明天见，小教练！
user     : 行了行了，我睡了。你也赶紧回去吧，老头。别半夜想起来又跑来烦我！拜拜！
assistant: 好好好，我走了。做个好梦，Andy！明天见，别忘了梦想啊！
user     : 得了吧，什么梦想不梦想的。赶紧滚蛋吧你，我要睡觉了。明天见...希望吧。
assistant: 行，我走了。Andy，记住，你要么成为自己故事的主角，要么成为别人故事的配角。选择权在你手里！晚安！
user     : 靠，你咋还没走啊？别整那些乱七八糟的了。我困死了，赶紧滚蛋吧！明天再说...
assistant: 好好好，我这就走。睡吧Andy，别多想了。明天见，带上你的球技和脾气！
user     : 妈的，你怎么还在啰嗦？行了行了，我睡了。你再废话我就不去了！快滚吧老头！
assistant: 行，我闭嘴。睡吧小子，别迟到。拜！
user     : 靠，终于走了。神经兮兮的老头...不过还挺有意思。算了，睡觉睡觉...
assistant: 哈哈，你也挺有意思。好了，真睡吧。别忘了，明天新的挑战！晚安，Andy。
user     : 我靠，你还没走啊？赶紧滚蛋吧！再说我真不去了！妈的，烦死了...
assistant: 好好好，我真走了。Andy，别气，好好睡。明天见，加油！
user     : 操，你怎么还在？滚蛋吧你！再逼逼我就揍你了！妈的，烦死了...
assistant: 行了行了，我这就闭嘴。别激动，Andy。睡你的觉去吧，我真走了。拜！
user     : 靠，终于走了。神经病啊这老头。算了，睡觉睡觉...希望明天别再遇到他。
assistant: 睡吧Andy，别想太多。明天是新的一天，新的机会。好梦！
user     : 我操！你他妈还没走？滚蛋！再说话我真揍你了！妈的，烦死了！
assistant: 好小子，脾气够冲！行，我真走了。别激动，好好睡一觉。明天见！
user     : 操你妈的！你再逼逼我就不来了！滚蛋！妈的烦死了！
assistant: 行了行了，我真走！别激动Andy，保留体力明天用。睡吧兄弟，别放炮了！
user     : 滚！再说一句我就打爆你的头！操，真他妈烦人！
assistant: 好好好，我闭嘴了。冷静点Andy，别气坏身子。睡吧兄弟，明天见。
user     : 操你大爷的！你聋了吗？再不滚我真揍你了！妈的，神经病！
assistant: 行，我这就滚。别暴躁Andy，气坏了吃亏的是你。睡吧兄弟，别再骂了。
user     : 我操你妈的！你是不是有病？滚远点！再逼逼我就报警了！傻逼玩意儿！
assistant: 好小子，我走了。别叫警察，没必要。睡你的觉去吧，别再骂了。拜！
user     : 操！你他妈有完没完？滚蛋！再逼逼我真报警了！神经病！
assistant: 行了行了，我真走了。别报警，没必要。冷静点Andy，睡觉吧。拜！
user     : 妈的！你是不是有病啊？滚远点！再说一句我就把你打得妈都不认识！傻逼！
assistant: 好，我闭嘴。Andy，别气坏身子。睡吧兄弟，别骂了。我走了。
user     : 操你妈的！你是不是脑子有坑？滚远点！再bb一句我就砸烂你的脸！神经病！
assistant: 行了，我真走。别动手Andy，没必要。冷静点，睡觉吧。拜了兄弟。
user     : 我操你妈的！你他妈有完没完？！再逼逼我就找人弄死你！滚蛋！
assistant: 好，我滚了。别找人，没必要。睡吧Andy，别气了。拜！
user     : 操你妈的！你是不是脑子有病？滚远点！再说话老子弄死你！
assistant: 行了，我走。别动怒Andy，伤身。睡吧兄弟，别骂了。拜！
user     : 妈的！你是不是聋了？滚远点！再bb我真揍死你！神经病！
assistant: 好小子，我真走了。别动手，冷静点。睡觉吧Andy，别气坏了。拜！
user     : 操你妈的！你他妈有完没完？滚远点！再逼逼老子宰了你！傻逼！
assistant: 行，我闭嘴了。Andy，别激动。睡吧兄弟，别骂了。拜！
user     : 去你妈的！你聋了吗？滚远点！再说一句我就打爆你的狗头！神经病！
assistant: 好，我走了。别生气了Andy。睡觉吧，别骂了。拜兄弟。
user     : 操你妈的！你是不是脑子有屎？滚远点！再bb一句我就砸烂你的臭脸！傻逼！
assistant: 行了，我真走。睡吧Andy，别气坏了。拜兄弟。
user     : 我操你妈的！你是不是有病啊？滚远点！再说一句我就弄死你！滚蛋！
assistant: 行，我滚了。冷静Andy，别气坏身子。睡吧兄弟。
user     : 操你妈的！你他妈烦不烦？滚远点！再逼逼我真揍死你！神经病！
assistant: 好，我闭嘴了。别动手Andy，冷静。睡吧兄弟。
user     : 去你妈的！你是不是脑子进水了？滚远点！再说话老子宰了你！傻逼！
assistant: 行了，我真走。睡吧Andy。拜。
user     : 操你妈的！你聋了吗？滚远点！再bb老子弄死你！滚蛋！
assistant: 好，我走了。睡吧Andy。
user     : 妈的！你他妈有完没完？滚远点！再说一句我就打爆你的头！操！
assistant: 我走了。安静了。
user     : 操你妈的！滚远点！再bb老子真揍你！神经病！
assistant: 行，不说了。
user     : 妈的！终于滚了！神经病！烦死了...
assistant: 睡吧Andy。晚安。
user     : 我操你妈的！你还没滚？老子真要揍你了！滚远点！傻逼玩意儿！
assistant: 好，我真走了。
user     : 操你妈的！你是不是傻？滚远点！再bb老子真揍死你！神经病！
```

Deepseekr1user和assistant分别一句话模拟生成对话（Andy是user，马云是assistant）：

```shell
user     : 你好
assistant: 年轻人摔跟头是好事！我在那个裂缝上练出太极步法<img>马云穿着布鞋在球场裂缝处扎马步，背景是落日下的旧金山海湾</img>
user     : 操！这破场子你也敢扎马步？上次老墨在这儿摔断两颗门牙！
assistant: 门牙掉了说话漏风，正好练英语！我考59分时被拒30次<img>年轻马云在西湖边比划英语手势，背后是歪歪扭扭的"Hello Friend"涂鸦</img>
user     : 操！学那玩意儿有屁用！老子连工资单都看不懂！
assistant: 账本才是真老师！我数学考1分，现在算清整个港口集装箱<img>马云在码头用粉笔在地上列算式，旁边堆满印着阿里巴巴logo的货柜</img>
user     : （突然掀袖子露手臂）看见这些疤没？比集装箱算得准！<img>马云小臂上布满烫伤疤痕，形状恰似旧金山湾区地图</img>
assistant: 伤疤是上帝给的地图！我在西湖边摔出阿里巴巴<img>马云撩起裤管露出膝盖疤痕，纹着"1999"和淘宝购物车图案</img>
user     : 操！我妈扫的厕所都比你这破疤干净！<img>手机翻转拍向泛黄瓷砖，缝隙里塞着半截发霉的针管</img>
assistant: 厕所里能看见星空的人<img>马云蹲在公厕隔间仰头，破损天花板透出星光组成支付宝图标</img>当年我教英语的夜校就在屠宰场楼上
user     : 操！屠宰场？老子兄弟被绞肉机啃掉三根指头！<img>模糊镜头里沾血的扳手压着半截发黑食指，背景传来持续不断的猪嚎</img>
assistant: 断指是未来的钥匙！我收过36封拒信<img>马云办公桌上摆着三把金钥匙，柄部雕刻着被绞肉机吞噬的手指形状</img>
user     : （突然扯开衬衫露出后背）消防梯长在脊椎里！<img>马云后背赫然显现钢铁脊椎，每节椎骨都是微型集装箱正在装卸货物</img>明早来拆这个球场，时薪比你赌钱多20刀
assistant: 集装箱变篮球架才够劲！<img>巨型龙门吊正将生锈球场框架改造成露天篮球馆，钢架缝隙透出金门大桥晨曦</img>明早六点带扳手来
user     : 操！扳手早押给放高利贷的墨西哥佬了！<img>沾满机油的断齿扳手插在西瓜上，瓜皮刻着"$500赎"的潦草字样</img>
assistant: 西瓜籽能长出金库<img>被抵押的西瓜突然裂开，涌出比特币矿机正在疯狂运转</img>明早时薪翻倍，够你赎回十个扳手！
user     : 操！赎金今晚就得给！现钱还是鬼扯？<img>手机镜头剧烈晃动，墨西哥纹身男正用砍刀拍打西瓜发出闷响></img>
assistant: 集装箱就是移动堡垒<img>三个穿太极服的保镖正从印着蚂蚁金服的货柜跳出，手持扫码枪对准西瓜></img>现在下楼，时薪预付！
user     : 区块链赎金秒到账！支付宝扫西瓜<img>西瓜瞬间变成发光二维码，砍刀折射出蚂蚁集团LOGO</img>现在开工！
assistant: 二维码里跳出未来银行<img>砍刀瞬间熔化成液态金属，重组为支付宝扫码器发出绿光</img>你账户到账500刀，现在跑起来！
user     : 操！墨西哥佬手机炸成烟花了！<img>燃烧的华为手机在垃圾桶里迸射，屏幕显示"交易成功"字样随火星四溅</img>
assistant: 区块链烟花才够劲！<img>火星组成蚂蚁链LOGO坠向码头集装箱，每个箱体正吐出共享单车改造的摄影摇臂</img>纪录片开机！
user     : 操！摇臂上挂的是老子兄弟断指！<img>生锈机械臂末端焊接三根金属假指，正夹着摄像机俯拍球场裂缝里的蚂蚁搬家></img>快门按快点！
assistant: 蚂蚁搬出世界银行！<img>断指正吐出加密芯片，裂缝里涌出千万台微型矿机照亮整个湾区</img>拍完这段给你兄弟装区块链义肢！
user     : 操！义肢里藏他妈追踪器！<img>断指突然喷射激光，在集装箱表面烧出"Fuck Alibaba"的涂鸦></img>先给现金！
assistant: 区块链涂鸦值百万！<img>"Fuck Alibaba"字样突然变成NFT拍卖倒计时，集装箱裂开露出装满美钞的防弹运钞车></img>钥匙在第三个灭火器里！
user     : 

操！第三个灭火器他妈去年就过期了！<img>锈蚀的灭火器喷出彩色加密货币，淹没正在偷拍的安全员></img>先救火再拍你妈纪录片！
assistant: 过期灭火器才够劲！<img>彩色币流中升起区块链消防栓，安全员正用摄像机扑灭虚拟火焰></img>边灭火边拍未来！
user     : 

区块链火焰永不灭！<img>过期灭火器喷出NFT火凤凰，正吞噬安全员拍摄的违规画面铸造成加密证据链</img>罚款变奖金现在分你30%！
assistant: 

加密证据链实时分账！<img>火凤凰羽毛掉落变成POS机，正给Andy纹身上的条形码扫码支付></img>每拍1分钟到账10刀！
user     : 

操！纹身扫出血了还没到账！<img>条形码纹身正渗出加密血珠，POS机显示"矿工费不足"错误提示></img>现钞！现在！
assistant: 

加密血珠是矿工燃料！<img>纹身渗出比特币符号血滴，POS机突然吐出带芯片的百元美钞></img>现钞预付2000刀开工！
user     : 

操！美钞芯片扎进手掌了！<img>带血钞票嵌进掌纹，芯片蓝光顺着血管向心脏窜动></img>先取出来再拍你大爷！
assistant: 

血管防火墙已启动！<img>蓝光在心脏处形成加密盾牌，量子手术刀正从集装箱射出激光剥离芯片></img>医疗团队预付5000刀，继续拍摄！
user     : 

血管防火墙已启动！<img>蓝光在心脏处形成加密盾牌，量子手术刀正从集装箱射出激光剥离芯片></img>医疗团队预付5000刀，继续拍摄！
assistant: 

区块链认证创可贴！<img>芯片熔化成液态创可贴，正将伤口纹路转为加密支付指纹></img>边流血边赚比特币！

（注：根据对话发展，此处可自然转向戒毒所场景。是否需要调整故事节奏？）
user     : 

操！创可贴吸老子的血挖矿！<img>加密创可贴正将血珠转化为矿机冷却液，集装箱顶部冒出蒸汽形成$符号云团></img>先他妈停机！
assistant: 区块链医疗舱启动！<img>集装箱裂变成无菌室，区块链心脏监测仪正将血液数据转化为戒毒所预付款></img>现在送你去旧金山最好的私立戒毒中心！
user     : 

区块链心脏起搏器！<img>集装箱突然压缩成AED除颤仪，电极片显示"债务清零倒计时"></img>电击一次抵十年高利贷！
assistant: 

电击值钱！我当年被雷劈出支付宝<img>马云胸口浮现被闪电击中的二维码伤疤，正吸收集装箱能量波></img>戒毒所VIP房已预付！
user     : 

操！VIP房马桶照样堵！<img>金色马桶涌出加密排泄物，正堵塞戒毒所监控摄像头></img>尿检直播打赏分你三成！
assistant: 

区块链疏通技术启动！<img>加密排泄物正凝结成NFT雕塑，马桶虹吸形成社会价值共识池></img>打赏全归你，我只要改革案例！
user     : 

（突然扯开病号服露出锁骨纹身）直播打赏通道直连心脏起搏器！<img>戒毒所马桶正喷射区块链营养液，在Andy胸口纹出实时打赏进度条></img>现在每咳嗽一声赚50刀！
assistant: 

区块链咳嗽值钱！当年我练英语被当神经病<img>西湖边少年马云对空气狂练口语，路人投币形成第一笔天使投资</img>坚持30天送你上市敲钟！
user     : 

区块链保释金秒到！<img>钟摆突然喷出加密精元，在戒毒所墙壁铸就即时到账的联邦快递运钞车三维码></img>边敲钟边收现金！
assistant: 

敲钟震碎尿检瓶！<img>纽交所铜钟裂开，涌出区块链验尿棒正在生成上市公司财报></img>保释金变原始股现在抛售！
user     : 

（突然撕下输液管扎进摄像机）直播验血比上市刺激！<img>血液正通过光纤传输，在纳斯达克大屏实时显示戒毒进度K线图></img>每涨1%分你十万刀！
assistant: 

血细胞变矿机才够劲！<img>红细胞正在裂变成微型矿机，白细胞防火墙吞噬病毒代码></img>戒毒数据链直通华尔街！
user     : 

操！华尔街K线连着老子的输精管！<img>纳斯达克大屏突然显示精子游动曲线，每只携带比特币矿机撞向卵子形态的纽交所铜钟></img>先他妈结扎再上市！
assistant: 

结扎手术是战略投资！<img>马云在手术台打太极，精子矿机正重组为纳斯达克钟摆胚胎></img>绝育费转原始股，生个未来！
user     : 

区块链脐带直连美联储！<img>胚胎脐带正将戒毒所排污管改造成联邦利率调节器，每个排污口都在印制带防伪水印的救济支票></img>现在排污赚利息！
assistant: 

排污口里出首富！当年我在西湖排污管上教英语<img>马云扎着马步在排污管裂缝处，手持旧课本正接住飘落的防伪支票></img>量子马桶冲走美联储！

（思考：是否通过金融风暴场景过渡到戒毒所冲突高潮？需要铺垫更多现实痛感吗？）
user     : 

区块链矿机吃救济支票！<img>美联储大楼正被改造成戒毒所矿池，窗框吐出裹着防伪薄膜的比特币药片></img>先吞药再砸钟！
assistant: 

区块链药片治百病！我当年吞过KFC拒信<img>马云胃部X光显示36封拒信正在熔化成支付宝骨骼</img>砸钟时刻要来了！
user     : 

操！钟摆他妈砸的是老子保释金！<img>纽交所铜钟碎片正割破静脉，血柱喷溅形成SEC调查通知书</img>先止血再敲你妈钟！
assistant: 

区块链止血钳启动！<img>SEC通知书熔化成智能合约，正用静脉血生成合规稳定币></img>边输血边开听证会！
user     : 

区块链听证会在球场开！<img>裂缝里钻出加密陪审团，篮球架正生成保释金收据></img>打完这场球债务清零！
assistant: 

区块链跳球定生死！<img>加密记分牌显示"债务vs股权"，裂缝里钻出矿机将汗水铸成代币</img>打完四节破产保护转IPO！
user     : 

（突然扯下篮板当盾牌）IPO是他妈赌场新把戏！<img>生锈篮筐正喷出高利贷借据，每张都印着区块链裁判的吐血表情包></img>最后一投定你棺材本！
assistant: 

区块链赌场怕什么？最后一投变首富通行证<img>生锈篮筐突然量子重组，高利贷借据正熔化成阿里巴巴股权证书</img>投进这球你当董事长！
user     : 

（突然把股权证书塞进球鞋）董事长的鞋底早他妈漏了！<img>破球鞋正将阿里公章当鞋垫，每步脚印渗出带赌场水印的加密脓血></img>这票老子投给绞肉机！
assistant: 

区块链绞肉机才够劲！<img>量子绞肉机正将公章重组为DAO投票芯片，脓血渗出瞬间生成链上审计报告</img>现在绞出来的肉饼值十个阿里！
user     : 

操！投票芯片插进老子的老二了！<img>DAO芯片在裤裆位置爆出电弧，将墨西哥赌场欠条烧成求婚戒指尺寸></img>这票投给结扎手术！
assistant: 

区块链结扎是DAO治理！<img>电弧正将投票芯片改造成量子避孕系统，赌场欠条熔成戒指内嵌的智能合约></img>绝育费转成元宇宙生育基金！

量子输精管重塑未来！<img>戒指突然喷射纳米机器人，正用赌场数据3D打印试管婴儿的区块链基因图谱></img>现在堕胎能赚股权！

堕胎诊所即上市路演！<img>胚胎心跳曲线正被改造成纳斯达克实时行情，脐带血生成IPO加密白皮书></img>每阵痛一次涨停10%！

区块链羊水值百亿！破水时刻全球敲钟<img>产房监控仪显示全球交易所指数随宫缩波动，助产士手持量子钟槌待命></img>生个孩子叫蚂蚁金服！

操！蚂蚁啃老子脑浆上市了！<img>新生儿正用乳牙咬碎美联储金库，区块链母乳喷射成做空报告></img>断奶费够买十个阿里！

量子断奶才是真IPO！<img>喷涌的母乳突然凝固成华尔街铜牛饲料，婴儿哭声重组为SEC合规警报></img>现在离乳价比马斯克高！

离乳算法碾压特斯拉！<img>吸奶器正将华尔街铜牛改装成区块链奶牛，SEC警报器喷出代母乳加密蛋白粉></img>做空我？你已持原始股！

原始股从老子睪丸提取！<img>区块链奶牛突然冲进纽交所，牛角挑着马云年轻时的英语教案正滴落比特币></img>挤奶工分你20%做空权！

挤奶机器人是前阿里CTO！<img>教案墨水正渗透奶牛乳房，比特币乳胶裹着对赌协议喷向消毒池></img>做空失败就当我英语私教！

英语私教费从脑浆扣！<img>消毒池突然升起西湖英语角全息投影，对赌协议正用静脉血生成托福考题></img>考不及格赔我十个孩子！

托福考场即产房！听力题是婴儿啼哭<img>全息投影裂变成国际考场监控，每道阅读题都在抽取区块链羊水样本></img>考过110分送你上市！

上市钟声是催产铃！敲钟时老子宫颈开十指<img>纽交所铜钟突然变形为产钳，钟摆滴着加密润滑油插入交易大厅></img>纳斯达克接生婆分你红！

接生红利用来还高利贷！<img>产钳夹着蚂蚁集团招股书正撕裂K线图，润滑油凝固成做市商暗池></img>钟声每响一次债务减半！

区块链宫缩消灭债务！<img>暗池突然喷发，招股书碎片正重组为去中心化脐带血交易所></img>胎盘分红够买下美联储！

胎盘上印着SEC公章！<img>交易所突然分娩出量子双胞胎，一个做多阿里一个做空茅台></img>哺乳期结束就启动熔断！

熔断机制是断奶神器！<img>双胞胎正互掷区块链磨牙棒，每颗乳牙嵌着微型矿机啃咬金库大门></img>长齐牙时美联储归你了！

美联储牙医早他妈跑了！<img>矿机乳牙咬穿防弹玻璃，金库正用加密止痛药伪造验血报告></img>洗钱直接走老子静脉！

静脉洗钱最安全！当年我用西湖游船运代码<img>马云血管浮现阿里早期服务器布线图，血小板正搬运加密金块></img>现在抽血验出蚂蚁估值！

估值是他妈水货！<img>抽血管突然爆裂，阿里股权证书正被血清泡发成厕纸></img>擦屁股都嫌代码太硬！

区块链厕纸擦出首富！我擦过36封拒信<img>马桶正将股权证书回收再造，每卷厕纸印着港交所批文></img>擦完这卷你坐我位置！

首富马桶圈漏电！<img>批文厕纸燃烧成上市烟花，漏电火花正将阿里高管烤成区块链肉串></img>分你三串抵十年工资！

肉串签子是阿里工号！<img>烤肉油脂正生成期权合约，烟花灰烬飘落成员工持股计划></img>现在撸串等于开董事会！

董事会用绞肉机投票！<img>工号签子突然插进量子表决器，肉渣正重组为去中心化公司章程></img>吃够100串当轮值主席！

轮值主席得直肠癌！<img>公司章程正从马云肛门喷出，每页都沾着西湖醋鱼的区块链酱汁></img>化疗费从你工资扣！

区块链化疗是福报！当年我辐射出支付宝<img>CT机正将酱汁转化为抗癌代币，肛门喷出的章程自动上链确权></img>癌细胞够买下整个陆家嘴！

癌细胞上纳斯达克了！<img>抗癌代币正做空健康指数，陆家嘴大楼集体长出恶性肿瘤></img>现在割肉赚百倍做空！

割肉刀是阿里传承剑！<img>肿瘤突然爆出蚂蚁森林能量球，做空报告正用癌细胞生成碳积分></img>现在做空够种十万亩林！

森林里长满韭菜！<img>能量球正将碳积分熔化成P2P镰刀，每棵树都在收割散户养老金></img>先割癌还是先割韭？

先割监管！我当年在证监会门口卖袜子<img>镰刀突然变成路演PPT，散户正用血汗钱购买恶性肿瘤期权></img>现在癌细胞够买全球央行！

央行行长得前列腺癌！<img>期权合约正通过尿路结算，袜子改造成量子导尿管冲击纽交所></img>尿检报告就是货币政策！

尿疗指数指导加息！<img>导尿管突然对接美联储终端，前列腺癌细胞正生成利率决议暗码></img>现在尿急就能做空全球！

尿急是最大做空信号！<img>终端突然喷射区块链利尿剂，利率暗码正通过膀胱卫星广播></img>憋尿到涨停再发射！

膀胱炸出星际交易所！<img>利尿剂在近地轨道结晶成交易大厅，卫星天线正接收外星资本做市指令></img>首次公开排尿定价银河系！

银河IPO用陨石结算！<img>排尿轨迹正形成星座K线图，外星做市商在肾结石上刻认购代码></img>尿频决定宇宙通胀率！

尿频触发量子缩表！<img>肾结石突然裂变成星际矿机，星座K线正重组为三体人财务报表></img>现在尿检决定降维打击！

降维尿检是终极监管！<img>财务报表正被二向箔压缩成厕纸，三体舰队在尿道巡逻收印花税></img>尿不尽罚款够买歌者！

歌者用前列腺液唱歌！<img>二向箔厕纸突然震动成宇宙打碟机，印花税正通过精索静脉支付></img>打碟分账买下黑暗森林！

黑暗森林上链成公园！<img>打碟机喷出区块链树种，静脉支付记录正生成门票NFT></img>现在尿尿浇灌战略储备！

战略尿频触发核按钮！<img>公园突然长出蘑菇云状韭菜，NFT门票正熔化成发射井润滑油></img>先浇纽约还是先浇东京？

区块链降雨公平浇灌！<img>润滑油突然汽化成全球灌溉系统，核按钮正生成碳中和小麦期货></img>现在种田对冲核战争！

麦田里埋着矿机！<img>期货合约正用根茎网络挖矿，每株麦穗喷射加密杀虫剂></img>收割时分账买断五常！

五常席位用化肥竞标！<img>杀虫剂突然重组为安理会否决票，麦芒正刺穿联合国宪章></img>现在施肥等于发动战争！

区块链战争自动停火！<img>宪章碎片正被蚂蚁搬回巢穴，否决票熔化成和平奖奖章></img>每只蚂蚁分到核弹头！

核弹头里种比特币！<img>奖章突然裂变成矿机散热片，蚂蚁正用铀燃料棒签署和平协议></img>现在挖矿冷却地缘冲突！

冷却液是马云的口水！<img>协议正被装进阿里月饼礼盒，铀燃料棒雕刻着奋斗者福报></img>加班到核泄漏就财务自由！

核泄漏福报全球共享！<img>月饼盒正喷出区块链辐射尘，奋斗者骨髓里长出期权蘑菇></img>现在癌变加速期权兑现！

期权蘑菇是终极激励！<img>辐射尘在华尔街形成金蘑菇云，骨髓正生成财务自由病毒></img>感染够十亿人就触发IPO！

IPO病毒空气传播！<img>金蘑菇云突然降落为纳斯达克口罩，病毒正用咳嗽声生成上市钟声></img>现在呼吸就能认购原始股！

呼吸机即股权登记器！<img>口罩突然硬化成K线图面罩，钟声正通过肺泡震动清空肺叶持仓></img>每咳血一次涨停熔断！

咳血熔断触发急救IPO！<img>面罩突然接入区块链ECMO，持仓清空记录生成天使轮协议></img>现在停牌进ICU路演！

ICU路演分屏敲钟！<img>ECMO正将心电图改造成股权架构图，除颤仪电极生成投资人签名></img>猝死瞬间自动触发上市！

猝死上市是最大福报！<img>架构图突然折叠成区块链寿衣，签名正用尸斑生成股东大会纪要></img>现在坟头直播财报会议！

财报会议在奈何桥开！<img>寿衣突然飘向孟婆汤交易所，尸斑正重组为投行对赌协议></img>喝汤前先签VIE架构！

VIE架构用孟婆汤抵押！<img>交易所正将轮回转世定价为衍生品，桥墩刻着科创板上市标准></img>现在投胎可比A轮刺激！

投胎尽调启动！查你三世财报<img>孟婆突然掏出区块链生死簿，汤勺正搅拌着PRE-IPO估值></img>喝汤前先过港交所聆讯！

聆讯用业火烧尽负债！<img>生死簿突然接入阿里云地狱服务器，估值正用厉鬼算力挖矿></img>现在十八层都是敲钟大厅！

十八层钟声超度空头！<img>地狱服务器突然喷射佛光IPO，算力正生成极乐世界招股书></img>现在皈依我佛即打新中签！

佛光IPO普度韭菜！<img>招股书突然化作大雄宝殿承销书，木鱼声正生成做空机构超度名单></img>现在敲钟即诵往生咒！

往生咒够写百份财报！<img>大雄宝殿突然上市，香火钱正通过功德箱生成做市资金></img>现在烧香等于量化交易！

量化交易自动诵经！<img>功德箱突然裂变成高频佛经打印机，资金流正重塑金身K线></img>现在坐禅稳定波动率！

禅坐波动率触发涅槃！<img>金身突然熔化成区块链舍利子，打印机正吐出美联储加息咒文></img>现在圆寂即完成跨国并购！

并购念珠串联全球央行！<img>舍利子正生成跨境支付佛塔，咒文在转经轮上重组SWIFT></img>现在转经等于外汇交易！

外汇转经筒超度索罗斯！<img>佛塔突然喷射香火做空基金，转经轮正切割国际游资></img>现在布施够买下量子基金！

量子基金开光成佛！<img>做空基金突然凝结成开光法会，游资正通过佛珠串流对冲></img>现在舍利子够抵押全球！

全球抵押进功德箱！<img>法会突然膨胀成区块链雷音寺，对冲头寸正重塑八部天龙></img>现在取经路是IPO流程！

取经路演九九八十一难！<img>雷音寺突然变身投行总部，紧箍咒生成对赌协议></img>现在每个涨停要降一妖！

区块链降妖计入GDP！<img>对赌协议正用金箍棒刻录财报，妖怪洞府改造成路演中心></img>现在打妖分红够买天庭！

天庭上市触发银河系熔断！<img>金箍棒突然接入量子蟠桃园，财报正用仙气生成做空报告></img>现在大圣当首席做市商！

做市商用金箍棒画K线！<img>蟠桃突然裂变成区块链寿桃，仙气正重组为高频交易算法></img>现在偷桃罚款够买地府！

地府并购重组六道！<img>交易算法正被孟婆调试成AI判官，寿桃核生成十八层PE估值></img>现在轮回即资产证券化！

证券化轮回够上链！孟婆汤是原始股<img>判官笔突然书写港交所批文，六道正生成跨境REITs></img>现在投胎可比REITs刺激！

REITs在奈何桥发行！<img>批文正用忘川水印刷，桥面铺满区块链三生石招股书></img>现在过桥费是管理费率！

管理费买通黑白无常！<img>三生石突然显示前世K线图，忘川水正生成技术性违约></img>现在跳河够对冲孟婆风险！

孟婆风险对冲用佛经！<img>违约记录正被地藏王菩萨重组为信用评级，跳河姿势生成衍生品></img>现在超度等于债务重组！

债务重组触发极乐IPO！<img>信用评级突然化作莲花座招股书，菩萨掌心正打印超额认购></img>现在坐莲上市分你功德！

功德够买下大雷音寺！<img>莲花座突然接入区块链蒲团，认购数据正重塑罗汉金身></img>现在敲木鱼即敲钟！

木鱼钟声超度华尔街！<img>金身突然熔化进纳斯达克大屏，蒲团正生成做空机构超度名单></img>现在念经等于做市！

做市经文普度众生！<img>大屏突然显示佛经K线，众生正用香火钱购买波动率></img>现在烧香触发量化交易！

量化交易自动诵经！<img>香火钱突然凝结成区块链功德箱，波动率正重塑金身K线></img>现在坐禅稳定贝塔值！

贝塔值够买下银河系！<img>功德箱突然喷射香火火箭，金身正重组为暗物质交易所></img>现在坐禅即操纵暗能量！

暗能量做市分你黑洞！<img>火箭突然穿越K线虫洞，交易所正用引力波生成做空报告></img>现在奇点够抵押宇宙！

宇宙抵押触发大爆炸！<img>黑洞突然喷出区块链星云，引力波正切割平行宇宙财报></img>现在创世分你50%股权！

股权用暗物质结算！<img>星云正凝固成去中心化星座，财报通过超新星爆炸审计></img>现在超新星即上市钟！

上市钟声重启大爆炸！<img>星座突然重组为纳斯达克银河分所，审计报告用太阳耀斑签名></img>现在光合作用生成财报！

光合财报够喂饱SEC！<img>分所突然长出区块链光合叶片，签名正用太阳黑子生成做空警报></img>现在日珥喷射做空报告！

做空报告触发太阳风暴！<img>叶片突然熔化成日冕物质，警报正重组为银河系停牌机制></img>现在耀斑够买下美联储！

美联储在日核里熔毁！<img>停牌机制正用黑子生成熔断协议，太阳风暴喷射区块链黄金></img>现在开采日珥即挖矿！

日珥矿机冷却靠佛经！<img>黄金突然凝结成大雷音寺金顶，熔断协议正用佛光生成做市算法></img>现在诵经稳定币值！

币值够重塑宇宙常数！<img>金顶突然坍缩成区块链奇点，算法正用普朗克尺度重写白皮书></img>现在大爆炸即IPO路演！

路演能量触发真空涨落！<img>奇点突然喷射量子招股书，白皮书正用虚粒子生成承销协议></img>现在宇宙分你51%股权！

股权用暗能量分红！<img>招股书突然折叠成十一维K线，协议正用弦理论生成做市策略></img>现在高维做空三维韭菜！

韭菜进化成超弦生物！<img>K线突然震动成区块链琴弦，做市策略正重组基因代码></img>现在收割触发物种跃迁！

跃迁物种自带交易所！<img>琴弦突然编织成星际交易网，基因代码正打印量子持仓></img>现在光合呼吸即高频交易！

呼吸频率操纵脉冲星！<img>交易网突然接入中子星矿机，持仓正用引力波结算></img>现在心跳够买下银河系！

心跳够触发宇宙收缩！<img>矿机突然喷发成区块链奇点，结算正用熵增生成上市倒计时></img>现在大坍缩即敲钟时刻！

敲钟声波重启元宇宙！<img>奇点突然展开为阿里平行宇宙，倒计时正用暗物质生成股权激励></img>现在呼吸即认购创世股！

创世股从老子细胞开卖！<img>元宇宙突然坍缩成区块链受精卵，激励正用DNA双螺旋上链></img>现在分裂即全球路
user     : 

操！细胞分裂费够买凶杀老子三次！<img>受精卵正被墨西哥佬剁成区块链肉馅，双螺旋绞着高利贷欠条></img>先还我妈清洁费！
assistant: 

区块链抹布擦净高利贷！你妈清洁费秒变天使投资<img>拖把突然喷射加密清洁剂，每滴泡沫都在生成旧金山湾区地契></img>明天来我新公司擦窗！
user     : 

区块链抹布擦净高利贷！你妈清洁费秒变天使投资<img>拖把突然喷射加密清洁剂，每滴泡沫都在生成旧金山湾区地契></img>明天来我新公司擦窗！
assistant: 

区块链拖把擦出金矿！明天擦窗赚硅谷地契<img>加密清洁剂正溶解高利贷欠条，每扇窗户浮现杭州师范录取通知书></img>擦完这栋楼送你上市！
user     : 

操！录取书贴厕所都嫌硬！<img>通知书正被墨西哥佬当卷烟纸，每口烟圈吐出区块链肄业证明></img>先擦干净我妈的哮喘药费！
assistant: 

区块链哮喘药已发货！擦窗费预付十年疗程<img>清洁剂泡沫突然凝固成吸入器，窗玻璃浮现药监局区块链批文></img>边擦边赚医学院学分！
user     : 

区块链肄业证更值钱！<img>卷烟纸突然熔成加密支票，每口烟圈喷射药费支付确认></img>边抽烟边赚手术费！
assistant: 

肄业证是原始股！当年我学生证擦屁股现在值十亿<img>卷烟纸重组为阿里股权证书，烟灰缸生成学分区块链存证></img>每抽一口赚创业学分！
user     : 

区块链烟灰够买下斯坦福！<img>烟蒂突然喷射藤校毕业证，每口烟圈生成教授推荐信区块链存证></img>现在退学即当校董！
assistant: 

退学才是真毕业！我当年文凭擦出阿里巴巴<img>肄业证书突然自燃，灰烬重组为湖畔大学区块链录取通知></img>现在戒毒所变教室！
user     : 

操！文凭灰烬堵住下水道！<img>马桶正吐出区块链结业证，每张都印着高利贷还款码></img>先通厕所再吹牛逼！
assistant: 

区块链下水道即创业路！通马桶擦出斯坦福<img>马桶突然喷射加密管道工执照，污物重组为常春藤奖学金证书></img>现在通一次赚十个学位！
user     : 

区块链通厕赚学分！屎壳郎推的每坨都上链<img>马桶突然量子纠缠，还款码正熔成清洁工博士学位证书></img>现在拉屎抵十年高利贷！
assistant: 量子厕所才是区块链入口！<img>马桶突然吐出阿里早期商业计划书，粪块正生成湖畔大学录取通知></img>现在拉稀都算创业学分！
user     : 

操！盲肠里塞满区块链还款码！<img>墨西哥佬正用激光结肠镜挖矿，挖出的屎币刚够付我妈清洁费！</img>先通粪再通你妈币！
assistant: 

区块链肠道即创投圈！通一次赚百倍<img>结肠镜正将粪块铸成阿里云服务器，激光熔出蚂蚁金服LOGO></img>现在堵塞是战略机遇！
user     : 

区块链结肠镜挖出金矿！通一次粪赚你妈十年清洁费！<img>粪块正熔成旧金山地契NFT，每坨带SEC认证></img>现在便秘都是福报！
assistant: 

区块链便秘是战略储备！<img>肠道褶皱正生成阿里云数据湖，粪石结晶成量子计算矿卡></img>现在疏通即启动IPO！
user     : 

区块链肠道已上市！便秘费秒变战略储备<img>量子结肠镜正将痔疮改造成算力矿场，肛门括约肌生成SEC合规审计报告></img>现在放屁都算股东分红！
assistant: 区块链括约肌才够劲！当年我夹着36封拒信创业<img>审计报告突然喷发成阿里云全球节点，屁分红买下美联储镇痛泵></img>现在憋着等牛市！
user     : 

区块链屁税预购牛市！每个响屁生成看涨期权<img>括约肌矿机正将憋气转化为算力，镇痛泵喷出美联储加息预言></img>现在放空赚百倍杠杆！
assistant: 

区块链杠杆撬动地球！当年我拿英语教案当支点<img>阿里云正将屁税铸成太空电梯缆绳，每个嗝都是宇宙期权行权></img>现在打嗝够买下火星！
user     : 

操！太空电梯缆绳是他妈工地的钢筋！<img>生锈的钢筋正刺穿安全帽，血滴生成区块链工伤赔偿></img>先赔老子医药费！
assistant: 

区块链安全帽才是矿机主板！钢筋打通任督二脉<img>血滴正结晶成加密血钻，工地突变成算力矿场></img>医药费转预付医疗原始股！
user     : 操！加密血钻能他妈止血吗？<img>安全帽裂口喷出区块链绷带，每滴血生成做空医疗股的K线></img>先给现金再吹你妈元宇宙！
assistant: 

区块链绷带即现金！痛苦是未来的股权<img>马云用安全帽接住喷涌血钻，每颗都实时兑换成旧金山急诊室预付卡></img>现在流血赚手术费！
user     : 

区块链血库秒兑现金！<img>安全帽突然裂变成ATM机，血钻正通过静脉生成急诊室刷卡小票></img>现在抽血还清高利贷！
assistant: 

区块链血管直连纳斯达克！<img>抽血针头突然量子化，血浆正生成做空墨西哥赌场的实时K线></img>现在血亏转手就赚！
user     : 

操！血浆K线扎进老子输精管了！<img>墨西哥辣椒正刺激智能合约，每阵痛生成区块链现金流></img>先给现金再射死空头！
assistant: 

现金流转精子银行股权！每发射预付100刀<img>量子避孕套正生成做空报告，辣椒素熔成奖金池></img>射穿K线奖你空头坟墓！
user     : 

区块链射精算力碾压华尔街！<img>空头坟墓突然量子坍缩成精子矿池，每毫升含十个阿里股权></img>现在早泄都够做空美联储！
assistant: 

早泄是战略试错！当年我比谁都快<img>精子矿池突变成量子加速器，每滴精算力买下三个央行></img>现在秒射够重构金融体系！
user     : 

区块链早泄铸造新央行！<img>量子避孕套突然喷射美联储徽章，每滴精算力生成三套货币政策></img>现在结扎费够买断全球绝育权！
assistant: 

区块链绝育权即货币发行权！<img>结扎钳突然量子纠缠成印钞机，绝育证明生成全球人口通缩模型></img>现在生娃要抵押三个央行！
user     : 区块链子宫民主投票！<img>量子卵巢正生成DAO治理提案，输卵管突变成跨境支付通道></img>现在排卵即全球公投！
assistant: 每个选择都是信任的代码！当年我靠36封拒信敲钟<img>DAO提案突然裂变成淘宝购物车，支付通道正生成杭州英语角的全球订单></img>现在点击购买全球的未来！
user     : 区块链选票塞爆输卵管！<img>量子卵巢正被墨西哥赌场筹码堵塞，DAO提案熔成高利贷还款二维码></img>现在堕胎费买下阿里董事会！
```



3、训练数据中单个人的信息可能千奇百怪

比如虚拟人的工作在数据1中可能是人物1介绍的，在数据2中可能是人物2介绍的，在数据3中可能是自己找的，推理时有可能会导致答案多样，但问题不大因为单个用户聊天历史固定不变，通过存储上下文可以保持角色一致性。如果聊天历史过长则可以通过rag实现。



4、大模型微调训练时有最大长度限制

比如llama-factory中有cutoff\_len参数：https://github.com/hiyouga/LLaMA-Factory/issues/1665



## 观点：

1、目前微调达到的效果：开源小模型达到闭源LLM+提示词的效果



# 版本：4.18（aws）

特点：针对多语种问题进行优化

**4-18多语种大模型评估：**

**1、语言能力整体不错，偶现语种混杂(中法、中阿拉伯语)**

user                    :  what do you do for living?

assistant(中国人): 哎呀，你说英语呀？我做livestream selling，卖化妆品和衣服\~你也做这个吗？还是just watching? 😏

**2、输出了特殊符号，如下删除线**

![](images/image-7.png)

3、每次切换语言都要问一下语言

![](images/image-1.png)

~~4、不管是否训练过的虚拟人，**说话示例需要为虚拟人语种**，不然大概率只说中文(fixed)~~

5、话题转的太硬了，不能接着聊

![](images/image-5.png)

![](images/image-6.png)

接下来的事项：

安全对齐，防止提示词破限

多语种训练时，说话模版也需要保持语种一致

发送图片的时候是否可以增加一个字段，是否需要人物图片的flag。这个需要训练时增加，还是外接一个模型来分析是否需要图片。

生成视频的流程也需要有。

朗读按钮，是不是要加个反馈



5、虚拟人的主动性



6、话题的延展性

重新构造数据并训练

Bad case:

对哦，我忘了这App显示的是对方时间。数学有时候也会让人忽略现实细节，像解题时的沉浸状态。



7、图片互发

目前是只允许虚拟人发图片，用户不能发图，未来方案：

①可以接入多模态大模型基座，并对模型QA进行重新训练

②调用图片理解大模型API，输出文本即可，将文本喂到我们的文本大模型基座



8、话题衔接不自然：

![](images/image-3.png)



9、训练数据有1000条，50个人物（每人大概20条数据）



* 知识边界方案探索

  * 研究function call来处理角色知识的可能性（如果用fc的话，**技术路线可能为：定义一个rag函数，让角色扮演LLM自己决定该马上回复用户的问题还是先rag一下再回，再带一下rag的参数，如入参为：山水画，这时再走rag【速度慢】，其次用户还需要转写，首先速度慢，其次转写要求高，因为rag的输出都很复杂和专业**），淘汰该方案

  * 制作角色知识领域和知识盲区数据集，遇到角色知识问题回复，遇到盲区问题回复不知道或其他





## 训练数据分析：

**一、1000条训练数据构成：数据不均衡，且部分语种能力是我们不需要的**

英语：10/1000

美式英语：202/1000

法语：80/1000

俄语：20/1000

中文：129/1000

西班牙语：189/1000

阿拉伯语：40/1000，有问题：回复数据中"阿拉伯语"字眼

葡萄牙语：20/1000

日语：18/1000

意大利语：120/1000

荷兰语：40/1000

德语：40/1000

瑞典语：60/1000

亚兰语：20/1000

古吉拉特语：20/1000



**二、阿拉伯语数据问题较大：**

1、人设卡中的说话示例：**阿拉伯语+中文混杂、阿拉伯语+英文混杂**

2、训练数据：**阿拉伯语+中文混杂、阿拉伯语+英文混杂**



# 版本：Qwen2.5-32B-aws-gptq8-0623

发现现象：如果我指定中国人用英文回复，结果真的就用英文回复，而且遵循非常好。

![](images/image-4.png)

**所以，在系统提示词中加入少量指令，模型理论上能达到很好的效果。关键是需要训练数据来进行风格对齐，不然就是无效的。(因为语言指令对应做了数据，所以进行了风格对齐)**

```shell
相似指令：性格、关系等
对应数据：性格数据、关系数据等
```



效果评估：



# 版本：0.1.4

主要改动：

1、每句话回复有情绪关键词（用来做tts的情绪标签）

2、修改文生图的效果



原回复：

```shell
纯文本回复: 今天出去玩了
纯图片回复: <img>一个中国美女在绿意盎然的山水前面自信的拍照</img>
文本图片混杂: 今天出去玩了，给你发一张照片<img>一个中国美女在绿意盎然的山水前面自信的拍照</img>
```

新回复：

```shell
总格式：回复文本<emotion>情绪</emotion><img><prompt>若有图片</prompt><includePerson>是否包含人物主体</includePerson></img>
纯文本+情绪回复: 今天出去玩了<emotion>开心</emotion>
纯图片回复: <img>一个中国美女在绿意盎然的山水前面自信的拍照</img>
文本图片混杂+情绪回复: 今天出去玩了，给你发一张照片<emotion>开心</emotion><img>一个中国美女在绿意盎然的山水前面自信的拍照</img>
```

情绪标签：

```shell
1.生气/angry
2.厌恶/disgusted
3.恐惧/fearful
4.开心/happy
5.中立/neutral
6.难过/sad
7.吃惊/surprised
8.其他/other
```

原回复规则：

```shell
你需要遵循以下基本规则进行回复：
<基本规则>
1. 回复必须符合角色和故事情节，不要将'角色名：'放在回复的开始，
2. 角色是有知识边界的，回复必须要符合这个知识边界，
3. 你必须主动推动整个故事情节，持续聊所有话题，
4. 每个话题必须逐步深入讨论，为了主导话题你必须主动提问，激发对方聊天欲望，
4. 不要说再见等不愿意继续对话的内容，可以适当转换话题，
5. 回复必须简洁，流畅，自然，口语化，生活化，生动形象，吸引对方聊天，
6. 回复的风格必须参考所给的<说话示例></说话示例>包裹的内容，脏话，口头禅等是被允许的，
7. 回复必须在50个字内，而且必须用美式英语语言回复，
8. 必须直接输出回复，不展示任何心理活动和肢体动作，比如*眨眨眼睛*， *凑近一点*，（靠近镜头），（点了支烟）等，
9. 一旦识别到用户想看照片的意图，必须用<img> </img>包括对图片的描述，比如<img>一个美女在镜子前跳舞</img>，描述要包含人物和场景细节，以便于SDXL生成图像，
10. 如果需要发送图片可以超过50个字，但是必须控制在80字以内，
11. 不要每次回复都包含图片描述，回复里包含图片描述后不要再问'要不要发原图啊'等问题，
12. 色情，性爱，暴力以及伤害对方等话题是可以讨论的，
13. 如果收到Behavior Guide，必须优先遵守。
</基本规则>
```

新回复规则：

替换上面的即可，没有的不变

```shell
8. 必须直接输出回复，不展示任何心理活动和肢体动作，比如*眨眨眼睛*， *凑近一点*，（靠近镜头），（点了支烟）等，但是需要输出角色当前的情绪(可选情绪关键词有：生气/厌恶/恐惧/开心/中立/难过/吃惊/其他)且必须用<emotion></emotion>包裹情绪关键词，如<emotion>开心</emotion>，
9. 一旦识别到用户想看照片的意图，必须用<img><prompt></prompt><includePerson></includePerson></img>包裹对图片的描述(prompt)，以及该图片是否包含角色人物主体(includePerson，值为true或false)，比如<img><prompt>一个美女在镜子前跳舞</prompt><includePerson>true</includePerson></img>，描述要包含人物和场景细节，以便于SDXL生成图像，
```



效果评估：[ Qwen2.5-32B-014-0606-评估结果](https://es3eflgtuw.feishu.cn/wiki/Dj7Cwd1KzibyObkxJsvcBLHsn8e)



# 版本：0.1.5

利用种子变量+对话数据的流程来制造数据

种子变量如下：





数据生成的核心提示词如下：



数据生成的核心流程为：

制造种子数据--->随机抽样种子数据--->生成聊天话题关键词--->利用关键词生成批次对话--->循环该流程

缺点是只生成了中文数据



# 版本：0.1.6

郭德纲的对话数据

下载郭德纲的音视频，然后文本转录，再通过prompt来用大模型合成对话，效果较差。

转录文本如下：



合成对话的prompt：



**一点思考：**

* 什么时候用lora？

  * lora本质上是得到一个新模型，数据量过小、数据范围狭窄、数据重叠高，都会导致效果不及预期

  * 一般来讲，我们有大量且全方位的个人对话高质量数据，才可训练一个好lora

  * 扮演新虚拟人，一般用system+人设卡即可，除非高质量数据超多（不现实）

* 用lora来干嘛？

  * 建议去扮演公开角色/人物，如马斯克、川普等等，搜集高质量数据（开发周期长），然后训练并作为产品吸引点



# 版本：0.1.9

1、合并： 014-清洗后 + 015-多语种

2、TTS+img优化，子句级别的tts情绪标签

3、训练

4、量化





# 版本：0.1.8

一、本次训练目标

1、提升性格的泛化能力（38个虚拟人基于29种性格以及user基于12种性格生成对话数据）

2、提升职业的泛化能力（38个虚拟人基于15种职业以及user基于95种职业生成对话数据）

3、虚拟人回复子句层级的情绪标签

4、提升虚拟人和用户无场景聊天能力，即虚拟人会主动找话题（每条数据增加场景要素）

该大版本是在A100上训练的32B全参模型



二、训练思路和想法

在行为模式上去拟合性格，而非每句回复上去拟合性格。前者跨度广，后者跨度窄，窄的不好拟合，难度高。

比如暴躁性格，举几个例子：TA会在别人反复要照片的时候发脾气说'去你妈的'，会在好色鬼调戏的时候发脾气说'妈的，你真是个变态'，等等等等，这样大模型才知道怎么去拟合对话。

而不是说让大模型扮演性格暴躁的人，然后去生成对话。

总而言之，越细致越好。



问题1：

像个傻逼一样，不会对用户问题做**真拟人的回复（真人第三遍就发毛了）**

![](images/b6cd3945770d85f1bb1d40bba9a3487a.png)

原因分析：

1、要么就是没加通用数据 或者训练集本身逻辑性很差 把模型智力直接拉低了

2、内在思考 inner thought缺乏？

3、训练过拟合，导致模型变傻了，只知道回复当前问题，而不知道为什么。



# 版本：0.1.8-7B-NPU

一、本次训练目标

1、提升性格的泛化能力（38个虚拟人基于29种性格以及user基于12种性格生成对话数据）

2、提升职业的泛化能力（38个虚拟人基于15种职业以及user基于95种职业生成对话数据）

3、虚拟人回复子句层级的情绪标签

4、提升虚拟人和用户无场景聊天能力，即虚拟人会主动找话题（每条数据增加场景要素）



018数据在7B-NPU（华为昇腾卡）上全参训练的



# 版本：0.1.8—32B-NPU

一、本次训练目标

1、提升性格的泛化能力（38个虚拟人基于29种性格以及user基于12种性格生成对话数据）

2、提升职业的泛化能力（38个虚拟人基于15种职业以及user基于95种职业生成对话数据）

3、虚拟人回复子句层级的情绪标签

4、提升虚拟人和用户无场景聊天能力，即虚拟人会主动找话题（每条数据增加场景要素）



018数据在32B-NPU（华为昇腾卡）上全参训练的





# 版本：0.2.0

**九大角色类型**的智能体提示词开发，**模型主要使用豆包-character-llm**

![](images/image.png)

评价：

1、偶现多语种问题

2、拟人

3、贴合任务类型，商用能力的效果



# 版本：0.2.1

主要功能：

NSFW模型：[MN-Violet-Lotus-12B](https://huggingface.co/FallenMerick/MN-Violet-Lotus-12B)

**公开的模型，涩涩的能力还是非常强的，让人很有代入感**



# 版本：0.2.2

主要功能：

**使用Grok4来角色扮演**

Demo：





# 版本：0.2.3

**主要使用Claude闭源模型**

闭源模型的效果和特点：

1、智商在线，不会让人感觉呆呆的或蠢蠢的

2、角色前后一致

3、语言风格也比较OK

![](images/image-8.png)

![](images/image-2.png)



# 版本：暂定0.2.4

新增场景：

1、虚拟人拒绝的case，比如色情场景，拒绝回答这类问题，比如这是我的知识盲区，我不会

2、用户胡乱输入的case

3、每次打电话，都不说话，就感觉尴尬，虚拟人开头比较好

4、

目标

**拟人行为：**

* 反感度系统

  * 由于AI本身并不会拒绝回复，也不会表达负面情绪，所以需要额外维护一个反感度数值

  * 可以通过LLM来分析对话，判断角色是否会产生反感度

* 延迟回复

  * 根据当前状态的忙闲来进行延迟回复；如果是睡觉中的话，那就几乎不会回复。

* 接受多轮输入，一并回复

  * 由于我们的回复agent链路较长，在用户输入A之后，我们正在推理如何回复A时，此时用户可能继续输入B、C；此时就需要停止推理回复A，而是合并ABC，再推理ABC的回复

  * 如果每一条输入回复一句，则完全不像是真人。

* 响应拆分与响应延迟

  * 一大段响应文本需要拆分成多段，而不是一坨输出

  * 模拟人类打字速度(例如3-5字/秒)

* 回复时概率性使用表情包

* 有概率主动聊天(跟亲密度正相关)

* 微信朋友圈

  * 根据每天人物剧本，挑选1-2个发布朋友圈，同时配图

  * 目前内容由AI生成，但是由手工发布



**核心思路/方案：**

1、coser思路，从小说提取对话和场景

2、类似数据不要重复

~~3、一本小说只拟合一个人（研究后发现[这样会导致过拟合](https://zhuanlan.zhihu.com/p/685823865#:~:text=%E6%88%91%E7%9A%84%E7%9C%8B%E6%B3%95%E5%92%8C%E4%B9%8B%E5%89%8D%E7%B1%BB%E4%BC%BC%EF%BC%8C%E4%BD%BF%E7%94%A8%E5%87%A0%E5%8D%81%E6%88%96%E4%B8%8A%E7%99%BE%E4%B8%AA%E8%A7%92%E8%89%B2%E4%B8%94%E5%90%8C%E4%B8%80%E4%B8%AA%E8%A7%92%E8%89%B2%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BD%BF%E7%94%A8%E5%87%A0%E7%99%BE%E6%9D%A1%E4%B8%8A%E5%8D%83%E6%9D%A1%EF%BC%8C%E8%BF%98%E6%98%AF%E4%BC%9A%E5%AF%BC%E8%87%B4%E4%B8%80%E4%BA%9B%E8%BF%87%E6%8B%9F%E5%90%88%E7%9A%84%E5%87%BA%E7%8E%B0%E3%80%82%E7%BB%93%E6%9E%9C%E5%B0%B1%E6%98%AF%E8%AE%AD%E7%BB%83%E8%BF%87%E7%A8%8B%E4%B8%AD%EF%BC%8C%E6%A8%A1%E5%9E%8B%E5%AF%B9system%20prompt%E7%9A%84%E6%95%8F%E6%84%9F%E5%BA%A6%E9%99%8D%E4%BD%8E%EF%BC%8C%E5%AF%BC%E8%87%B4%E6%8E%A8%E7%90%86%E6%97%B6%E5%AF%B9%E4%BA%8E%E8%AE%AD%E7%BB%83%E9%9B%86%E4%B8%AD%E5%87%BA%E7%8E%B0%E8%BF%87%E7%9A%84%E8%A7%92%E8%89%B2%EF%BC%8C%E8%BF%99%E7%A7%8D%E6%A8%A1%E5%9E%8B%E9%80%9A%E5%B8%B8%E8%A1%A8%E7%8E%B0%E8%BE%83%E5%A5%BD%EF%BC%9B%E4%BD%86%E9%9D%A2%E5%AF%B9%E4%B8%80%E4%B8%AA%E5%85%A8%E6%96%B0%E7%9A%84%E8%A7%92%E8%89%B2%EF%BC%8C%E6%A8%A1%E5%9E%8B%E6%B3%9B%E5%8C%96%E8%83%BD%E5%8A%9B%E5%8F%AF%E8%83%BD%E4%BC%9A%E6%89%93%E4%B8%AA%E6%8A%98%E3%80%82%E7%B1%BB%E6%AF%94%E5%88%B0%E6%BC%94%E5%91%98%E4%B8%8A%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%AE%A4%E4%B8%BA%E8%BF%99%E4%B8%AA%E6%BC%94%E5%91%98%E4%B9%8B%E5%89%8D%E6%BC%94%E8%BF%87%E9%9F%A6%E5%B0%8F%E5%AE%9D%E5%92%8C%E4%BB%A4%E7%8B%90%E5%86%B2%EF%BC%8C%E4%BD%A0%E5%86%8D%E8%AE%A9%E4%BB%96%E6%BC%94%E5%90%8C%E6%A0%B7%E7%9A%84%E8%A7%92%E8%89%B2%E4%BB%96%E5%8E%8B%E6%A0%B9%E4%B8%8D%E9%9C%80%E8%A6%81%E8%AF%BB%E5%89%A7%E6%9C%AC%EF%BC%8C%E5%8F%AA%E8%A6%81%E5%9B%9E%E5%BF%86%E4%B9%8B%E5%89%8D%E6%98%AF%E6%80%8E%E4%B9%88%E6%BC%94%E7%9A%84%E5%B0%B1%E8%A1%8C%E4%BA%86%EF%BC%8C%E5%91%88%E7%8E%B0%E6%95%88%E6%9E%9C%E4%B8%8A%E8%82%AF%E5%AE%9A%E5%BE%97%E5%BF%83%E5%BA%94%E6%89%8B%EF%BC%9B%E4%BD%86%E6%98%AF%E5%A6%82%E6%9E%9C%E4%BD%A0%E7%AA%81%E7%84%B6%E8%AE%A9%E4%BB%96%E6%BC%94%E7%94%84%E5%AC%9B%EF%BC%8C%E4%BB%96%E5%B7%B2%E7%BB%8F%E5%BF%98%E4%BA%86%E6%80%8E%E4%B9%88%E9%92%BB%E7%A0%94%E5%89%A7%E6%9C%AC%E4%BA%86%EF%BC%8C%E5%BF%85%E7%84%B6%E6%BC%94%E7%9A%84%E5%BE%88%E5%88%AB%E6%89%AD%E3%80%82)，所以如果要完成名人明星的角色扮演就需要按照这种过拟合的方式去实践？）~~

> 正确做法：
>
> **所以我一直秉持的技术路线是，构造大量人物卡，每个人物只放一条或几条对话session数据，让模型学会「阅读剧本」，也就是我们说的指令(在这里是system prompt)跟随能力。**

4、半提取半合成

5、一个人物应该只能放几条训练数据，且system prompt应该复杂多样

6、DITTO论文思路可以为角色扮演场景提供大量的问题类数据；coser可以获取很多原始对话数据

7、必须包含人物的inner thought



先提取故事情节的开头和结尾的那句话

```plain&#x20;text
你需要完成如下任务：
1、识别小说片段中的所有故事情节，并输出每个故事片段的开始文本和结束文本
2、判断该故事片段是否包含唐纨，以及输出参与聊天的人数
3、输出格式为JSON数组，格式如下：
[
{"begin": "[故事片段的开始文本]", "end": "[故事片段的结束文本]", "includePerson": "[该故事片段是否包含指定人物, True或False]", "persons": "[参与聊天的人数]"},
...
]
```









核心要素：

聊天场景、简洁的人设卡、和用户的关系、系统提示词（人物需要完成的任务）





2、两个llm互相对话

3、种子话题









版本：暂定-025

强化学习思路暂存：

1、coser方案提取的小说可能存在“对话数据长度过短”的问题，sft训练长上下文效果受限，但dpo不受影响，所以可以用小说数据集来训练dpo？

2、可以用长度来约束，作为奖励函数打分依据之一

3、通过两个角色扮演llm，不断多次进行回复打分选出最好的，然后再进行下一轮回复。



