AI伴学项目中，当用户和虚拟人进行音视频通话时是通过长连接来处理。具体的，

## 地址

```json
"ws://localhost:9921/ws?push_url={url}&persona_id={id}"
```

## 服务端和客户端

* websocket客户端

LLM产生虚拟人回复内容，客户端将文本不断发送到服务端

* websocket服务端

服务端处理音频并推流到房间（push\_url）



## 入参(Client → Server)

```json
```

## 出参(Server ← Client)

```json
```



## 中止逻辑

客户端发送信令，服务端暂停或继续推流

### 入参（Client → Server）

二进制数据或如下JSON数据：

```json
{
    "command": "stop"
}
```



### 出参（Server → Client）

不变

